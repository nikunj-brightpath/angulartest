<div class="page-sidebar-wrapper">
  <div class="page-sidebar">
    <!-- DOC: Apply "page-sidebar-menu-light" class right after "page-sidebar-menu" to enable light sidebar menu style(without borders) -->
    <!-- DOC: Apply "page-sidebar-menu-hover-submenu" class right after "page-sidebar-menu" to enable hoverable(hover vs accordion) sub menu mode -->
    <!-- DOC: Apply "page-sidebar-menu-closed" class right after "page-sidebar-menu" to collapse("page-sidebar-closed" class must be applied to the body element) the sidebar sub menu mode -->
    <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
    <!-- DOC: Set data-keep-expand="true" to keep the submenues expanded -->
    <!-- DOC: Set data-auto-speed="200" to adjust the sub menu slide up/down speed -->
    <ul class="page-sidebar-menu" data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200">
      <li class="sidebar-search-wrapper">
        <!-- BEGIN RESPONSIVE QUICK SEARCH FORM -->
        <!-- DOC: Apply "sidebar-search-bordered" class the below search form to have bordered search box -->
        <!-- DOC: Apply "sidebar-search-bordered sidebar-search-solid" class the below search form to have bordered & solid search box -->
        <form class="sidebar-search sidebar-search-bordered " action="page_general_search_3.html" method="POST">
          <a href="javascript:;" class="remove">
            <i class="icon-close"></i>
          </a>
          <div class="form-group">
            <div class="input-icon input-icon-sm right">
              <i class="icon-magnifier"></i>
              <input class="form-control input-sm input-circle" placeholder="Search User..." type="text">
            </div>
          </div>
        </form>
        <!-- END RESPONSIVE QUICK SEARCH FORM -->
      </li>
      <ng-template ngFor let-menuItem [ngForOf]="menu.items" let-mainMenuItemIndex="index">
        <li *ngIf="showMenuItem(menuItem)" class="nav-item" [ngClass]="{'start': mainMenuItemIndex == 0,'active':menuItem.route==activeRouteUrl||(menuItem.name=='Settings' && activeRouteUrl.includes('users') ||activeRouteUrl.includes('Integration'))}">
          <a href="javascript:;" [routerLink]="[menuItem.route]" *ngIf="!menuItem.items.length" class="nav-link nav-toggle">
            <i *ngIf="!menuItem.icon.includes('/')" class="{{menuItem.icon}}"></i>
            <img *ngIf="menuItem.icon.includes('/')" src="{{menuItem.route==activeRouteUrl?menuItem.icon+'_green.png':menuItem.icon+'.png'}}"
            />
            <span class="title">{{l(menuItem.name)}}</span>
            <span class="selected"></span>
          </a>
          <a href="javascript:;" *ngIf="menuItem.items.length" class="nav-link nav-toggle">
            <i *ngIf="!menuItem.icon.includes('/')" class="{{menuItem.icon}}"></i>
            <img *ngIf="menuItem.icon.includes('/')" src="{{menuItem.route==activeRouteUrl?menuItem.icon+'_green.png':menuItem.icon+'.png'}}" />
            <span class="title">{{l(menuItem.name)}}</span>
            <span class="selected"></span>
          </a>
          <ul class="sub-menu" *ngIf="menuItem.items.length">
            <!-- Menu Level 2 -->
            <ng-template ngFor let-childMenuItem [ngForOf]="menuItem.items" let-childMenuItemIndex="index">
              <li *ngIf="showMenuItem(childMenuItem)" class="nav-item" [ngClass]="{'start': childMenuItemIndex == 0,'active':childMenuItem.route==activeRouteUrl}">
                <a href="javascript:;" [routerLink]="[childMenuItem.route]" *ngIf="!childMenuItem.items.length" class="nav-link nav-toggle">
                  <i *ngIf="!childMenuItem.icon.includes('/')" class="{{childMenuItem.icon}}"></i>
                  <img *ngIf="childMenuItem.icon.includes('/')" src="{{childMenuItem.route==activeRouteUrl?childMenuItem.icon+'_green.png':childMenuItem.icon+'.png'}}"/>
                  <span class="title">{{l(childMenuItem.name)}}</span>
                </a>
                <a href="javascript:;" class="nav-link nav-toggle" *ngIf="childMenuItem.items.length">
                  <i *ngIf="!childMenuItem.icon.includes('/')" class="{{childMenuItem.icon}}"></i>
                  <img *ngIf="childMenuItem.icon.includes('/')" src="{{childMenuItem.route==activeRouteUrl?childMenuItem.icon+'_green.png':childMenuItem.icon+'.png'}}"/>
                  <span class="title">{{l(childMenuItem.name)}}</span>
                  <!--<span class="arrow"></span>-->
                </a>
                <ul class="sub-menu" *ngIf="childMenuItem.items.length">
                  <!-- Menu Level 3 -->
                  <ng-template ngFor let-childOfChildMenuItem [ngForOf]="childMenuItem.items" let-childOfChildMenuItemIndex="index">
                    <li *ngIf="showMenuItem(childOfChildMenuItem)" class="nav-item" [ngClass]="{'start': childOfChildMenuItemIndex == 0,'active':childOfChildMenuItem.route==activeRouteUrl}">
                      <a [routerLink]="[childOfChildMenuItem.route]" *ngIf="!childOfChildMenuItem.items.length" class="nav-link">
                        <i *ngIf="!childOfChildMenuItem.icon.includes('/')" class="{{childOfChildMenuItem.icon}}"></i>
                        <img *ngIf="childOfChildMenuItem.icon.includes('/')" src="{{childOfChildMenuItem.route==activeRouteUrl?childOfChildMenuItem.icon+'_green.png':childOfChildMenuItem.icon+'.png'}}" />
                        <span class="title">{{l(childOfChildMenuItem.name)}}</span>
                      </a>
                      <a href="javascript:;" *ngIf="childOfChildMenuItem.items.length" class="nav-link">
                        <i *ngIf="!childOfChildMenuItem.icon.includes('/')" class="{{childOfChildMenuItem.icon}}"></i>
                        <img *ngIf="childOfChildMenuItem.icon.includes('/')" src="{{childOfChildMenuItem.route==activeRouteUrl?childOfChildMenuItem.icon+'_green.png':childOfChildMenuItem.icon+'.png'}}" />
                        <span class="title">{{l(childOfChildMenuItem.name)}}</span>
                        <span class="arrow"></span>
                      </a>
                      <ul class="sub-menu" *ngIf="childOfChildMenuItem.items.length">
                        <!-- Menu Level 4 -->
                        <ng-template ngFor let-childOfChildOfChildMenuItem [ngForOf]="childOfChildMenuItem.items" let-childOfChildOfChildMenuItemIndex="index">
                          <li *ngIf="showMenuItem(childOfChildOfChildMenuItem)" [ngClass]="{'start': childOfChildOfChildMenuItem == 0,'active':childOfChildOfChildMenuItem.route==activeRouteUrl}">
                            <a [routerLink]="[childOfChildOfChildMenuItem.route]">
                              <i *ngIf="!childOfChildMenuItem.icon.includes('/')" class="{{childOfChildMenuItem.icon}}"></i>
                              <img *ngIf="childOfChildMenuItem.icon.includes('/')" src="{{childOfChildMenuItem.route==activeRouteUrl?childOfChildMenuItem.icon+'_green.png':childOfChildMenuItem.icon+'.png'}}" />
                              <span class="title">{{l(childOfChildOfChildMenuItem.name)}}</span>
                            </a>
                          </li>
                        </ng-template>
                      </ul>
                    </li>
                  </ng-template>
                </ul>
              </li>
            </ng-template>
          </ul>
        </li>
      </ng-template>
    </ul>
    <div class="page-sidebar-user">
      <div class="btn-group dropup">
        <a class="btn btn-link btn-block dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

          <img *ngIf="profilePicture" id="HeaderProfilePicture" class="img-circle" [src]="profilePicture" alt="Jason M." style="max-height:80px !important; max-width:80px !important">          Hello,
          <i *ngIf="isImpersonatedLogin" class="icon-action-undo font-red-sunglo"></i> {{shownLoginName}}
        </a>
        <ul class="dropdown-menu">
          <li>
            <a id="UserProfileMySettingsLink" (click)="showMyProfile()"><i class="icon-settings"></i> My Profile</a>
          </li>
          <li class="ac-password">
            <a id="UserProfileChangePasswordLink" (click)="showChangePassword()"><i class="icon-key"></i> {{l("ChangePassword")}}</a>
          </li>
          <li>
            <a href="javascript:;" (click)="logout()"><i class="icon-logout"></i> {{l("Logout")}}</a>
          </li>
          <li class="divider"></li>
          <li class="ac-signout">
            <a href="javascript:;"><i class="icon-logout"></i> Help</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
  <changePassword #changePassword></changePassword>
  <myProfile #myProfile></myProfile>

<!--<loginAttemptsModal #loginAttemptsModal></loginAttemptsModal>-->
<!--<linkedAccountsModal #linkedAccountsModal (modalClose)="getRecentlyLinkedUsers()"></linkedAccountsModal>-->
<!--<changePasswordModal #changePasswordModal></changePasswordModal>-->
<!--<changeProfilePictureModal #changeProfilePictureModal></changeProfilePictureModal>-->
<!--<mySettingsModal #mySettingsModal (modalSave)="onMySettingsModalSaved()"></mySettingsModal>
<notificationSettingsModal #notificationSettingsModal></notificationSettingsModal>-->



